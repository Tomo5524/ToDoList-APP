!function(e){var t={};function n(o){if(t[o])return t[o].exports;var c=t[o]={i:o,l:!1,exports:{}};return e[o].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(o,c,function(t){return e[t]}.bind(null,c));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=e=>{const t=e.split(":");let n,o,c;n=t[0],o=t[1],n>12?(c="PM",n-=12):n<12?(c="AM",0==n&&(n=12)):c="PM";return n+":"+o+" "+c};var c=e=>{e.classList.add("no-display")};var r=(...e)=>{let t=e[0].classList.contains("fa-edit")||e[0].classList.contains("edit-btn")?"edit":"add-btn";const n=document.createElement("div");n.setAttribute("class","overlay"),n.classList.contains("no-display")&&n.classList.remove("no-display");const o=document.createElement("div");o.setAttribute("class","modal-box col-12 col-sm-9 col-lg-6");const r=document.createElement("div");r.setAttribute("class","title-div col-12 p-3");const d=document.createElement("input");d.setAttribute("class","title-box w-100 border"),d.setAttribute("type","text"),d.setAttribute("placeholder","Title"),d.required=!0,r.appendChild(d);const s=document.createElement("div");s.setAttribute("class","dscr-div col-12 p-3");const a=document.createElement("textarea");a.setAttribute("class","dscr-box w-100 border"),a.setAttribute("type","text"),a.setAttribute("placeholder","Description"),s.appendChild(a);const u=document.createElement("div");u.setAttribute("class","date-div p-3");const p=document.createElement("p");p.setAttribute("class","form-text date-text"),p.innerHTML="Date: ";const m=document.createElement("input");m.setAttribute("class","date-box border"),m.setAttribute("type","date"),u.appendChild(p),u.appendChild(m);const b=document.createElement("div");b.setAttribute("class","start-end-prio_div d-flex flex-wrap");const f=document.createElement("div");f.setAttribute("class","start_div d-flex px-3 col-sm-6 col-md-4");const h=document.createElement("p");h.setAttribute("class","form-text pr-3 start-text"),h.innerHTML="Start: ";const v=document.createElement("input");v.setAttribute("class","start-box border"),v.setAttribute("type","time"),f.appendChild(h),f.appendChild(v);const g=document.createElement("div");g.setAttribute("class","end_div d-flex px-3 col-sm-6 col-md-4");const A=document.createElement("p");A.setAttribute("class","form-text pr-3 end-text"),A.innerHTML="End: ";const E=document.createElement("input");E.setAttribute("class","end-box border"),E.setAttribute("type","time"),g.appendChild(A),g.appendChild(E);const C=document.createElement("div");C.setAttribute("class","priority-div d-flex px-3 col-sm-12 col-md-4");const y=document.createElement("p");y.setAttribute("class","form-text pr-3 priority-text"),y.innerHTML="Priority: ";const j=document.createElement("select");j.setAttribute("class","priority-box border");const L=document.createElement("option");L.setAttribute("value","high"),L.innerHTML="high",j.appendChild(L),C.appendChild(y),C.appendChild(j),b.appendChild(f),b.appendChild(g),b.appendChild(C);const _=document.createElement("div");_.setAttribute("class","add-cancel-div d-flex p-3");const x=document.createElement("div");x.setAttribute("class","add-div mr-5");const S=document.createElement("button");S.setAttribute("class","add-box border"),S.innerHTML="Add",x.appendChild(S);const T=document.createElement("div");T.setAttribute("class","cancel-div pl-5");const M=document.createElement("button");if(M.setAttribute("class","cancel-box border"),M.innerHTML="Cancel",T.appendChild(M),_.appendChild(x),_.appendChild(T),o.appendChild(r),o.appendChild(s),o.appendChild(u),o.appendChild(b),o.appendChild(_),n.appendChild(o),"edit"==t){let t=e[1];d.value=t.title,a.value=t.desc,v.value=t.start,E.value=t.end,S.addEventListener("click",o=>{o.preventDefault();const r=i.edit_todo(d.value.trim(),a.value.trim(),m.value,v.value,E.value,j.value,t.completed,t.id);l(r,e[0]),c(n)})}else S.addEventListener("click",e=>{if(e.preventDefault(),d.value.trim()){console.log(i.get_current_project(),"before added new task, check current project, form.js");const e=i.add_task(d.value.trim(),a.value.trim(),m.value,v.value,E.value,j.value);l(e),c(n)}else console.log("need title")});return M.addEventListener("click",e=>{c(n)}),n};var l=(...e)=>{const t=e[0],n=document.querySelector(".todo-list"),c=document.createElement("li");c.setAttribute("id",""+t.id),c.setAttribute("class","d-flex justify-content-between align-items-center py-3 border rounded");const l=document.createElement("input");l.setAttribute("type","checkbox"),l.setAttribute("id",""+t.id),l.setAttribute("class","check-box no-display");const d=document.createElement("label");d.setAttribute("id",""+t.id),d.setAttribute("class","tick ml-3");const s=document.createElement("div");s.setAttribute("class","text-div w-100 text-center");const a=document.createElement("h3");a.setAttribute("class","text-title"),a.innerHTML=t.title;const u=document.createElement("p");u.setAttribute("class","todo-description"),u.innerHTML=t.desc;const p=document.createElement("div");if(p.setAttribute("class","start-end-div d-flex justify-content-center"),""!==t.start&&""!==t.end){const e=document.createElement("p");e.setAttribute("class","todo-start-time"),e.innerHTML="Start: "+o(t.start);const n=document.createElement("p");n.setAttribute("class","todo-end-time pl-5"),n.innerHTML="End: "+o(t.end),p.appendChild(e),p.appendChild(n)}s.appendChild(a),s.appendChild(u),s.appendChild(p);const m=document.createElement("div");m.setAttribute("class","icon-div d-flex");const b=document.createElement("button");b.setAttribute("class","btn edit-btn"),b.style="background-color: Transparent";const f=document.createElement("i");f.setAttribute("class","fas fa-edit"),b.appendChild(f);const h=document.createElement("button");h.setAttribute("class","btn delete-btn");const v=document.createElement("i");if(v.setAttribute("class","fas fa-trash-alt"),h.appendChild(v),m.appendChild(b),m.appendChild(h),c.appendChild(l),c.appendChild(d),c.appendChild(s),c.appendChild(m),d.addEventListener("click",e=>{t.completed=!t.completed,t.completed?(d.innerHTML="âœ“",s.classList.add("text-lign-through")):(d.innerHTML="",s.classList.remove("text-lign-through"))}),b.addEventListener("click",e=>{console.log(e.target,"edit clicked");const n=document.querySelector("#content"),o=r(e.target,t);n.appendChild(o)}),h.addEventListener("click",e=>{let t=e.target;for(;!t.hasAttribute("id");)t=t.parentNode;i.remove_todo(t),t.remove()}),t.edit)if(console.log(e.length),e.length>1){console.log("show list after editing",i.show_project());let t=e[1];for(console.log(c,"node"),console.log(t,"previous_node");!t.hasAttribute("id");)t=t.parentNode;n.replaceChild(c,t)}else n.appendChild(c);else n.appendChild(c)};var d=function(e){const t=document.querySelector(".todo-list");for(;t.firstChild;)t.removeChild(t.firstChild)};var s=function(e){console.log(e,"project_name");const t=document.createElement("div");t.setAttribute("class","project-title-div d-flex flex-wrap my-2");const n=document.createElement("button");n.setAttribute("class","btn project-title");const o=document.createElement("button");o.setAttribute("class","btn remove-btn no-display");const r=document.createElement("i");return r.setAttribute("class","fas fa-trash-alt"),o.appendChild(r),t.appendChild(n),t.appendChild(o),n.innerHTML=e,i.cur_project=e,console.log(i.cur_project,"just added project"),document.querySelector(".menu-btn").addEventListener("click",e=>{o.classList.contains("no-display")?o.classList.remove("no-display"):c(o)}),o.addEventListener("click",e=>{const t=document.querySelector(".cur-project-name");console.log(e.target,"remove clicked");let n=e.target;for(;!n.classList.contains("project-title-div");)console.log(n),n=n.parentNode;if(console.log(n.firstChild.innerHTML,"cur_node.firstChild"),i.remove_project(n.firstChild.innerHTML),n.remove(),a.removeProjectFromLocalStorage(n.firstChild.innerHTML),0==i.todoItems_project.length)t.innerHTML="";else if(n.firstChild.innerHTML==i.cur_project){console.log(localStorage,"localStorage");let e=JSON.parse(localStorage.key(0));t.innerHTML=e}}),n.addEventListener("click",t=>{const n=document.querySelector(".cur-project-name");console.log(i.cur_project,"previous_project before changed");let o=i.cur_project;console.log(e,"project clicked"),d(o),i.display_todo(e),i.change_current_project(e),console.log(n.innerHTML,"cur_project_title.innerHTML before new name assigned"),n.innerHTML=e,console.log(i.get_current_project(),"Task.cur_project after changed")}),t};var a={renderTodoFromLocalStorage:()=>{if(localStorage.length>0)for(let e=0;e<localStorage.length;e++){console.log(localStorage[e],"cur_pro from local storage");for(let t of Object.keys(localStorage[e])){console.log(t,"cur project name from localstorage");for(let n of localStorage[e][t]){let e=JSON.parse(n);l(e)}}}},addNewProjectToLocalStorage:e=>{let t=JSON.stringify(e);console.log("json string before going into localstorage",t);let n=JSON.stringify([]);localStorage.setItem(t,n),console.log(localStorage)},removeProjectFromLocalStorage:e=>{console.log(e);let t=JSON.stringify(e);console.log(t),localStorage.removeItem(t)}};var i=function(){let e=[];const t=t=>{for(let n=0;n<e.length;n++){console.log(e[n],"cur_pro list");for(let o of Object.keys(e[n])){console.log(o,"cur project name");for(let c of e[n][o])if(console.log(c,"cur_obj"),c.id===t)return console.log(e[n][o],"returned todo"),c}}};let n=new Set,o=JSON.parse(localStorage.key(0)),c={};c[o]=[],e.push(c);const r=()=>o;function d(){return e}return{todoItems_project:e,todoItems_date:[],cur_project:o,getTask:t,get_current_project:r,change_current_project:e=>(o=e,o),add_project:t=>{if(console.log(t,"new_project"),n.has(t))return!1;{n.add(t);let c={};return c[t]=[],console.log(c,"new_obj_project"),e.push(c),o=t,a.addNewProjectToLocalStorage(t),console.log(e,"todoItems_project"),!0}},add_task:(t,n,c,l,d,s)=>{const a={title:t,desc:n,date:c,start:l,end:d,priority:s,completed:!1,edit:!1,id:Date.now()};console.log(r(),"get curproject");for(let t=0;t<e.length;t++)for(let n of Object.keys(e[t]))n==o&&e[t][o].push(a);return console.log(o,"cur_project, task.js"),console.log(e,"todoItems_project, task.js"),a},remove_todo:t=>{for(let n=0;n<e.length;n++)for(let o of Object.keys(e[n])){let c=0;for(let r of e[n][o]){if(t.id==r.id)return e[n][o].splice(c,1),void console.log(e[n][o],"cur project todos after removed");c++}}},remove_project:t=>{for(let n=0;n<e.length;n++)for(let o of Object.keys(e[n]))o==t&&(console.log(e,"after project removed"),e.splice(n,1))},show_project:d,edit_todo:(e,n,o,c,r,l,s,a)=>{const i=t(a);return console.log(i,"cur_todo, called from edit_todo"),i.title=e,i.desc=n,i.date=o,i.start=c,i.end=r,i.priority=l,i.edit=!0,console.log(d(),"show all projects"),i},display_todo:t=>{for(let n=0;n<e.length;n++)for(let o of Object.keys(e[n]))if(o==t)for(let t of e[n][o])l(t)}}}();var u=()=>{document.querySelector("#content");const e=document.createElement("div");e.setAttribute("class","task-container d-flex align-items-center justify-content-center col-8");let t=new Date;const n=document.createElement("div");n.setAttribute("class","today-date d-flex");const o=document.createElement("h6");o.setAttribute("class","text-day pr-2"),o.innerHTML=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()];const c=document.createElement("h6");c.setAttribute("class","text-date"),c.innerHTML=t.toLocaleString(),n.appendChild(o),n.appendChild(c);const l=document.createElement("ul");l.setAttribute("class","todo-list col-12");const d=document.createElement("div");d.setAttribute("class","empty-state");const s=document.createElement("div");s.setAttribute("class","btn-div text-center");const a=document.createElement("button");a.setAttribute("class","btn add-task-btn");const i=document.createElement("i");i.setAttribute("class","fas fa-calendar-plus fa-3x"),a.appendChild(i),s.appendChild(a);const u=document.createElement("h2");u.setAttribute("class","add-text"),u.innerHTML="Add your first todo";const p=document.createElement("p");return p.innerHTML="What do you want to get done today?",d.appendChild(s),d.appendChild(u),d.appendChild(p),e.appendChild(n),e.appendChild(l),e.appendChild(d),a.addEventListener("click",e=>{const t=r(e.target);content.appendChild(t)}),e};var p=()=>{const e=document.createElement("div");e.setAttribute("class","overlay");const t=document.createElement("div");t.setAttribute("class","folder-cotainer h-100");const n=document.createElement("div");n.setAttribute("class","folder-div py-3");const o=document.createElement("div");o.setAttribute("class","d-flex flex-wrap mb-3");const r=document.createElement("button");r.setAttribute("class","btn folder-heder"),r.innerHTML="Project";const l=document.createElement("p");l.setAttribute("class","arrow_text folder-heder px-4"),l.innerHTML="->";const d=document.createElement("p");d.setAttribute("class","cur-project-name folder-heder"),d.innerHTML=i.get_current_project(),o.appendChild(r),o.appendChild(l),o.appendChild(d);document.createElement("button").setAttribute("class","project-add-btn");const a=document.createElement("div");a.setAttribute("class","project-div");const u=document.createElement("div");u.setAttribute("class","project-div-input no-display");const p=document.createElement("input");p.setAttribute("class","project-input"),p.setAttribute("placeholder","new project");const m=document.createElement("div");m.setAttribute("class","add-cancel-div d-flex p-3");const b=document.createElement("div");b.setAttribute("class","add-div mr-5");const f=document.createElement("button");f.setAttribute("class","add-box border"),f.innerHTML="Add",f.type="submit",b.appendChild(f);const h=document.createElement("div");h.setAttribute("class","cancel-div ml-5");const v=document.createElement("button");v.setAttribute("class","cancel-box border"),v.innerHTML="Cancel",h.appendChild(v),m.appendChild(b),m.appendChild(h),u.appendChild(p),u.appendChild(m),n.appendChild(o),n.appendChild(u),n.appendChild(a),t.appendChild(n),localStorage.length>0&&Object.keys(localStorage).forEach((function(e){console.log(e);let t=JSON.parse(e),n=s(t);a.appendChild(n)}));return document.querySelector("#add-folder-icon").addEventListener("click",e=>{u.classList.contains("no-display")?u.classList.remove("no-display"):(p.value="",c(u))}),f.addEventListener("click",t=>{if(""!==p.value&&i.add_project(p.value)){let t=s(p.value);a.appendChild(t),d.innerHTML=p.value,p.value="",c(u),c(e)}else console.log("already exist or invalid value")}),v.addEventListener("click",e=>{p.value="",c(u)}),r.addEventListener("click",e=>{}),t};var m=()=>{const e=document.createElement("div");e.setAttribute("class","menu-cotainer col-4 border-r");const t=document.createElement("div");t.setAttribute("class","nav d-flex justify-content-between align-items-center");const n=document.createElement("div");n.setAttribute("class","title-div");const o=document.createElement("h1");o.setAttribute("class","logo"),o.innerHTML="TodoList",n.appendChild(o);const c=document.createElement("div");c.setAttribute("class","folder-todo-add");const r=document.createElement("button");r.setAttribute("class","btn menu-btn");const l=document.createElement("i");l.setAttribute("class","fas fa-bars"),r.appendChild(l);const d=document.createElement("button");d.setAttribute("class","btn folder_add");const s=document.createElement("i");s.setAttribute("class","fas fa-folder-plus"),s.setAttribute("id","add-folder-icon"),d.appendChild(s);const a=document.createElement("button");a.setAttribute("class","btn add-btn");const i=document.createElement("i");return i.setAttribute("class","fas fa-plus"),a.appendChild(i),c.appendChild(r),c.appendChild(d),c.appendChild(a),t.appendChild(n),t.appendChild(c),e.appendChild(t),e};const b=document.querySelector("#content");b.setAttribute("class","h-100 fluid-container d-flex");const f=m(),h=u();b.appendChild(f),b.appendChild(h);const v=p();console.log(v),console.log("open folder"),f.appendChild(v);document.querySelector(".add-btn").addEventListener("click",e=>{const t=r(e.target);b.appendChild(t)})}]);